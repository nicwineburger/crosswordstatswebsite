{"version":3,"sources":["App.js","logo.svg","reportWebVitals.js","index.js"],"names":["runScript","key","date","a","request","fetch","method","header","body","JSON","stringify","response","json","image","console","log","returnString","Buffer","from","toString","App","useState","output","setOutput","authKey","setAuthKey","setDate","isSubmit","setIsSubmit","useEffect","run","localStorage","getItem","out","img","indexOf","blob","Blob","substr","type","url","URL","createObjectURL","document","createElement","addEventListener","revokeObjectURL","once","className","alt","src","width","height","href","onSubmit","e","preventDefault","setItem","value","onChange","target","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","CssBaseline","getElementById"],"mappings":"4MAKMA,EAAS,uCAAG,WAAOC,EAAKC,GAAZ,qBAAAC,EAAA,4DACJ,sFACNC,EAAU,CAAC,SAAYH,EAAK,cAAiBC,GAFnC,SAGIG,MAFR,sFAEmB,CACzBC,OAAQ,OACRC,OAAQ,CACJ,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KARX,cAGbO,EAHa,gBAUCA,EAASC,OAVV,UAUbC,EAVa,OAWdC,QAAQC,IAAIF,GACa,kCAArBA,EAAK,SAAwE,gCAArBA,EAAK,QAZnD,wBAaNG,EAAeC,EAAOC,KAAKL,EAAK,QAAa,UAAUM,SAAS,QAb1D,kBAcHH,GAdG,8EAAH,wDA+GAI,IA1FH,WACR,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAwBJ,mBAAS,IAAjC,mBAAOnB,EAAP,KAAawB,EAAb,KACA,EAAgCL,oBAAS,GAAzC,mBAAOM,EAAP,KAAiBC,EAAjB,KAiCA,OA/BAC,qBAAU,WACN,IAAMC,EAAG,uCAAG,kCAAA3B,EAAA,yDAE8B,OAAlC4B,aAAaC,QAAQ,SAFjB,gCAGQhC,EAAU+B,aAAaC,QAAQ,UAHvC,OAGJC,EAHI,6CAKQjC,EAAUwB,EAAStB,GAL3B,OAKJ+B,EALI,cAQG,MAAPA,IACIC,EAAMD,EAAIE,QAAQ,SAClBC,EAAO,IAAIC,KAAK,CAACJ,EAAIK,OAAOJ,IAAO,CAACK,KAAM,kBAC1CC,EAAMC,IAAIC,gBAAgBN,GAClBO,SAASC,cAAc,OAC7BC,iBAAiB,QAAQ,kBAAMJ,IAAIK,gBAAgBN,KAAM,CAACO,MAAM,IACtExB,EAAUiB,IAdN,4CAAH,qDAmBTV,MAED,CAACN,EAAStB,IAUT,qBAAK8C,UAAU,MAAf,SACA,wBAAQA,UAAU,aAAlB,SACI,gCACKrB,GACG,gCACgB,KAAXL,GACG,6EAIQ,KAAXA,GACG,4BACI,qBAAK2B,IAAI,OAAOC,IAAK5B,EAAQ6B,MAAM,OAAOC,OAAO,cAM/DzB,GACE,gCACI,4BACA,mBAAG0B,KAAK,0FAAR,oFAEA,uBAAMC,SAAU,SAACC,GAAD,OAAuBA,EA9BjDC,iBACN5B,GAAY,GACZG,aAAa0B,QAAQ,QAASjC,QAC9BO,aAAa0B,QAAQ,OAAQvD,IA2Bb,UACI,yDACA,uBACA,uBACIqC,KAAK,OACLmB,MAAO3B,aAAaC,QAAQ,SAC5B2B,SAAU,SAACJ,GAAD,OAAO9B,EAAW8B,EAAEK,OAAOF,aAGzC,uBACA,sEACA,uBACA,uBACInB,KAAK,OACLmB,MAAO3B,aAAaC,QAAQ,QAC5B2B,SAAU,SAACJ,GAAD,OAAO7B,EAAQ6B,EAAEK,OAAOF,aAGtC,uBACA,uBAAOnB,KAAK,2B,yDC1GzB,K,8GCYAsB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,OCAdQ,IAASC,OACL,qCACI,cAACC,EAAA,EAAD,IACA,cAACpD,EAAA,EAAD,OAEJuB,SAAS8B,eAAe,SAM5BZ,M","file":"static/js/main.108b6d21.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\n\r\n\r\nconst runScript = async (key, date) => {\r\n    let url = \"https://h9e25h7oj8.execute-api.us-east-1.amazonaws.com/default/nic-crossword-lambda\"\r\n    let request = {\"auth_key\": key, \"earliest_date\": date}\r\n\tlet response = await fetch(url, {\r\n        method: \"POST\",\r\n        header: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(request)\r\n    }) \r\n\tlet image = await response.json()\r\n    console.log(image);\r\n    if (image[\"message\"] !== \"auth key or date not provided\" && image[\"message\"] !== \"sorry, something went wrong\") {\r\n        let returnString = Buffer.from(image[\"content\"], 'base64').toString('utf8')\r\n        return returnString\r\n    }\r\n  \treturn \r\n}\r\n\r\n\r\n\r\nconst App = () => {\r\n    const [output, setOutput] = useState(\"\");\r\n    const [authKey, setAuthKey] = useState(\"\");\r\n    const [date, setDate] = useState(\"\");\r\n    const [isSubmit, setIsSubmit] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const run = async () => {\r\n            let out;\r\n            if (localStorage.getItem(\"token\") !== null) {\r\n                out = await runScript(localStorage.getItem(\"token\"))\r\n            } else {\r\n                out = await runScript(authKey, date);\r\n            }\r\n\r\n            if (out != null) {\r\n                let img = out.indexOf(\"<svg \")\r\n                let blob = new Blob([out.substr(img)], {type: 'image/svg+xml'})\r\n                let url = URL.createObjectURL(blob)\r\n                let image = document.createElement('img')\r\n                image.addEventListener('load', () => URL.revokeObjectURL(url), {once: true})\r\n                setOutput(url);\r\n                \r\n            }         \r\n\t\t\t\r\n        }\r\n        run();\r\n\r\n    }, [authKey, date]);\r\n\r\n    function afterSubmission(event) {\r\n        event.preventDefault()\r\n        setIsSubmit(true)\r\n        localStorage.setItem(\"token\", authKey)\r\n        localStorage.setItem(\"date\", date)\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n        <header className=\"App-header\">\r\n            <div>\r\n                {isSubmit && (\r\n                    <div>\r\n                        {output === \"\" && (\r\n                            <p>\r\n                                loading... (this might take a minute or two)\r\n                            </p>\r\n                        )}\r\n                        {output !== \"\" && (\r\n                            <p>\r\n                                <img alt=\"plot\" src={output} width=\"1000\" height=\"700\" />\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {!isSubmit && (\r\n                    <div>\r\n                        <p>\r\n                        <a href=\"https://github.com/nicwineburger/crosswordstatswebsite/wiki/Getting-Your-NYT-Auth-Token\">Click here for instructions on how to get your auth-key from the NYT</a>\r\n                        </p>\r\n                        <form onSubmit={(e) => afterSubmission(e)}>\r\n                            <label>Enter your auth-key:\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={localStorage.getItem(\"token\")}\r\n                                onChange={(e) => setAuthKey(e.target.value)}\r\n                            />\r\n                            </label>\r\n                            <br/>\r\n                            <label>Enter earliest date (YYYY-MM-DD):\r\n                            <br/>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={localStorage.getItem(\"date\")}\r\n                                onChange={(e) => setDate(e.target.value)}\r\n                            />\r\n                            </label>\r\n                            <br/>\r\n                            <input type=\"submit\"/>\r\n                        </form>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </header>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport '@fontsource/roboto';\r\nimport CssBaseline from '@mui/material/CssBaseline'\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n    <>\r\n        <CssBaseline />\r\n        <App />\r\n    </>,\r\n    document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}