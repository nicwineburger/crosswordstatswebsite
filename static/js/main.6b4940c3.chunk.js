(this.webpackJsonpcrosswordstatswebsite=this.webpackJsonpcrosswordstatswebsite||[]).push([[0],{22:function(e,t,n){"use strict";(function(e){var s=n(6),r=n(10),a=n.n(r),c=n(20),o=n(0),i=(n(36),n(37),n(1)),u=function(){var t=Object(c.a)(a.a.mark((function t(n,s){var r,c,o,i,u,j,b,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("0"!==s){t.next=11;break}return"36569100",r="https://nyt-games-prd.appspot.com/svc/crosswords/v3/".concat("36569100","/stats-and-streaks.json?date_start=2014-01-01&start_on_monday=true"),t.next=5,fetch(r,{method:"GET",headers:{"Content-Type":"application/json","nyt-s":n},mode:"cors"});case 5:return c=t.sent,t.next=8,c.json();case 8:o=t.sent,i=o.results.streaks.dates[0][0],s=i;case 11:return"https://h9e25h7oj8.execute-api.us-east-1.amazonaws.com/default/nic-crossword-lambda",u={auth_key:n,earliest_date:s},t.next=15,fetch("https://h9e25h7oj8.execute-api.us-east-1.amazonaws.com/default/nic-crossword-lambda",{method:"POST",header:{"Content-Type":"application/json"},body:JSON.stringify(u)});case 15:return j=t.sent,t.next=18,j.json();case 18:if(b=t.sent,console.log(b),"auth key or date not provided"===b.message||"sorry, something went wrong"===b.message){t.next=23;break}return d=e.from(b.content,"base64").toString("utf8"),t.abrupt("return",d);case 23:return t.abrupt("return");case 24:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();t.a=function(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(""),b=Object(s.a)(j,2),d=b[0],h=b[1],l=Object(o.useState)(""),p=Object(s.a)(l,2),f=p[0],m=p[1],x=Object(o.useState)(!1),O=Object(s.a)(x,2),g=O[0],v=O[1];function w(){return(w=Object(c.a)(a.a.mark((function e(t){var n,s,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),localStorage.setItem("token",d),localStorage.setItem("date",f),e.next=6,u(d,f);case 6:n=e.sent,s=n.indexOf("<svg "),c=new Blob([n.substr(s)],{type:"image/svg+xml"}),o=URL.createObjectURL(c),document.createElement("img").addEventListener("load",(function(){return URL.revokeObjectURL(o)}),{once:!0}),r(o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)("header",{className:"App-header",children:Object(i.jsxs)("div",{children:[g&&Object(i.jsxs)("div",{children:[""===n&&Object(i.jsx)("p",{children:"loading... (this might take a minute or two)"}),""!==n&&Object(i.jsx)("p",{children:Object(i.jsx)("img",{alt:"plot",src:n,width:"1000",height:"700"})})]}),!g&&Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:Object(i.jsx)("a",{href:"https://github.com/nicwineburger/crosswordstatswebsite/wiki/Getting-Your-NYT-Auth-Token",children:"Click here for instructions on how to get your auth-key from the NYT"})}),Object(i.jsxs)("form",{onSubmit:function(e){return function(e){return w.apply(this,arguments)}(e)},children:[Object(i.jsxs)("label",{children:["Enter your auth-key:",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",value:d,onChange:function(e){return h(e.target.value)}})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:["Enter earliest date (YYYY-MM-DD):",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",value:f,onChange:function(e){return m(e.target.value)}})]}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"submit"})]})]})]})})})}}).call(this,n(30).Buffer)},36:function(e,t,n){"use strict";n.p},37:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);n(0);var s=n(21),r=n.n(s),a=(n(29),n(50)),c=n(22),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))},i=n(1);r.a.render(Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(a.a,{}),Object(i.jsx)(c.a,{})]}),document.getElementById("root")),o()}},[[44,1,2]]]);
//# sourceMappingURL=main.6b4940c3.chunk.js.map