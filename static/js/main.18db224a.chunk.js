(this.webpackJsonpcrosswordstatswebsite=this.webpackJsonpcrosswordstatswebsite||[]).push([[0],{30:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t(21),s=t.n(r),i=(t(28),t(43)),c=t(6),o=t(7),d=t.n(o),l=t(14),u=t.p+"static/media/main.25188d52.py",p=(t.p,t(30),t(2)),f=function(){var e=Object(l.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.18.1/full/"});case 2:return t=e.sent,e.next=5,t.loadPackage("numpy");case 5:return e.next=7,t.loadPackage("matplotlib");case 7:return e.next=9,t.loadPackage("pandas");case 9:return e.next=11,t.runPythonAsync('\nimport datetime\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport io, base64\nimport pandas as pd\nimport os\nimport js\n\ndef generate():\n    csv_path = io.StringIO(js.csvContent)\n    df = pd.read_csv(csv_path, parse_dates=["date"], index_col="date")\n    df["Solved datetime"] = pd.to_datetime(df["solved_unix"], unit="s")\n\n    df.index = df["Solved datetime"]\n    df = df.sort_index()\n\n    df = df[\n        (df["solved_unix"] - df["opened_unix"] < 3600 * 24 * 7)\n        & (df["cheated"] == False)\n        & df.solve_time_secs.notnull()\n    ]\n\n    ymax = df["solve_time_secs"].max() / 60\n\n    fig = plt.figure(figsize=(10, 7), dpi=200)\n    today = datetime.date.today().isoformat()\n    plt.title(\n        f"NYT crossword solve time (8-week rolling average) as of {today}"\n    )\n    ax = fig.gca()\n\n    CB_color_cycle = [\'#377eb8\', \'#ff7f00\', \'#4daf4a\',\n                    \'#f781bf\', \'#a65628\', \'#984ea3\',\n                    \'#999999\', \'#e41a1c\', \'#dede00\']\n    color_index = 0\n\n    DAYS = [\'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\', \'Sun\']\n    for day in DAYS:\n        rolling_avg = df[df["weekday"] == day]["solve_time_secs"].rolling("56D").mean()\n        (rolling_avg / 60.0).plot(\n            ax=ax, label=day, linewidth=2, markersize=4, marker="o", linestyle="-", color=CB_color_cycle[color_index]\n        )\n        color_index = color_index + 1\n\n    plt.legend()\n    ax.set_xlabel("Solve Date")\n    ax.set_ylabel("Minutes")\n    minor_yticks = np.arange(0, ymax + 1, 5)\n    ax.set_ylim(0, ymax)\n    ax.set_yticks(minor_yticks, minor=True)\n    plt.xticks(rotation=0)\n    ax.figure.autofmt_xdate()\n    plt.grid(True, which="both", axis="both")\n\n\n    buf = io.BytesIO()\n    fig.savefig(buf, format=\'png\')\n    buf.seek(0)\n    img_str = \'data:image/png;base64,\' + base64.b64encode(buf.read()).decode(\'UTF-8\')\n    return img_str\n\ngenerate()\n');case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.useState)("(loading...)"),n=Object(c.a)(e,2),t=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(c.a)(s,2),o=i[0],x=i[1],m=Object(a.useState)(null),b=Object(c.a)(m,2),g=b[0],j=(b[1],Object(a.useState)("")),v=Object(c.a)(j,2),h=v[0],_=v[1];function y(){return(y=Object(l.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.target.files[0].text();case 2:t=e.sent,window.csvContent=t,console.log(window.csvContent),x(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(d.a.mark((function e(){var n,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u);case 2:return e.next=4,e.sent.text();case 4:return n=e.sent,e.next=7,f(n);case 7:t=e.sent,r(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("header",{className:"App-header",children:[o&&Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:Object(p.jsx)("img",{src:t})})}),!o&&Object(p.jsx)("div",{children:Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{type:"text",value:h,onChange:function(e){return _(e.target.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"file",id:"file-input",name:"file-input",accept:".csv,.txt",value:g,onChange:function(e){return function(e){return y.apply(this,arguments)}(e)}})]})})]})})},m=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),s(e),i(e)}))};s.a.render(Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i.a,{}),Object(p.jsx)(x,{})]}),document.getElementById("root")),m()}},[[37,1,2]]]);
//# sourceMappingURL=main.18db224a.chunk.js.map