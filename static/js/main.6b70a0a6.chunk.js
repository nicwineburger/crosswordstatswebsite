(this.webpackJsonpcrosswordstatswebsite=this.webpackJsonpcrosswordstatswebsite||[]).push([[0],{33:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(21),s=n.n(r),c=(n(31),n(49)),o=n(22),i=n(4),u=n(12),d=n.n(u),l=n(20),h=(n.p,n(33),n(23)),b=n.n(h),j=n(24),p=n.n(j),f=n(1);function O(e,t){for(var n=2592e6,a=new Date(e.getTime()+n),r=0;a<t;)if(r++,(a=new Date(a.getTime()+n))>=t){r++;break}return r}var g=function(){var e=Object(l.a)(d.a.mark((function e(t,n){var a,r,s,c,o,i,u,l,h,b,j,p,f,g,x;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="https://h9e25h7oj8.execute-api.us-east-1.amazonaws.com/default/nic-crossword-lambda",r=[],s=2592e6,c=864e5,o=new Date(n),i=new Date,u=O(o,i),l=new Date(o.getTime()+s);case 8:if(!(l<i)){e.next=39;break}return h=new Date(l.getTime()-s).toISOString().slice(0,10),b=new Date(l).toISOString().slice(0,10),j={auth_key:t,earliest_date:h,end_date:b},e.next=14,fetch(a,{method:"POST",header:{"Content-Type":"application/json"},body:JSON.stringify(j)});case 14:return p=e.sent,e.next=17,p.json();case 17:if(!(f=e.sent).hasOwnProperty("message")){e.next=20;break}return e.abrupt("return",f);case 20:if(r.push(f.content),document.getElementById("chunkLoading").value=100/u,u--,!((l=new Date(l.getTime()+s))>=i)){e.next=37;break}return h=new Date(b).toISOString().slice(0,10),b=new Date(i.getTime()-c).toISOString().slice(0,10),j={auth_key:t,earliest_date:h,end_date:b},e.next=30,fetch(a,{method:"POST",header:{"Content-Type":"application/json"},body:JSON.stringify(j)});case 30:return g=e.sent,e.next=33,g.json();case 33:return x=e.sent,r.push(x.content),document.getElementById("chunkLoading").value=100,e.abrupt("break",39);case 37:e.next=8;break;case 39:return console.log(r),e.abrupt("return",r);case 41:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(i.a)(s,2),u=c[0],h=c[1],j=Object(a.useState)(""),O=Object(i.a)(j,2),x=O[0],m=O[1],w=Object(a.useState)(!1),y=Object(i.a)(w,2),v=y[0],S=y[1],k=Object(a.useState)(!1),T=Object(i.a)(k,2),D=T[0],C=T[1],I=Object(a.useState)([]),Y=Object(i.a)(I,2),_=Y[0],N=Y[1];function P(){return(P=Object(l.a)(d.a.mark((function e(t){var n,a,s,c,i,l,h,b,j,f,O,m,w,y,v,k,T,D,I,Y,_;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),t.preventDefault(),e.next=4,g(u,x);case 4:if((n=e.sent).hasOwnProperty("message"))C(!0);else{for(a=[],s=0;s<n.length;s++)for(c=p.a.parse(n[s],{header:!0,dynamicTyping:!0}),console.log(c),i=void 0,l=0;l<c.data.length;l++)null!==c.data[l].date&&(0!==l&&c.data[l].date!==i.date&&a.push(c.data[l]),i=c.data[l]);for(h=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],b=[],j=0;j<h.length;j++){for(f=[],O=0;O<a.length;O++)a[O].weekday===h[j]&&f.push(a[O]);b[h[j]]=f}for(m=[],w=0,y=h;w<y.length;w++){k=b[v=y[w]],T=[],D=[],I=Object(o.a)(k);try{for(I.s();!(Y=I.n()).done;)_=Y.value,T.push(_.date),D.push(_.solve_time_secs/60)}catch(d){I.e(d)}finally{I.f()}m.push({x:T,y:D,mode:"lines",name:v})}console.log(b),console.log(m),N(m),r(!1)}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("header",{className:"App-header",children:Object(f.jsxs)("div",{children:[v&&!D&&Object(f.jsxs)("div",{children:[n&&Object(f.jsx)("progress",{id:"chunkLoading",value:"0",max:"100",children:"0 % of data downloaded"}),!n&&Object(f.jsx)(b.a,{data:_,layout:{width:740,height:580,title:"NYT Crossword Solves Over Time",colorway:["#377eb8","#ff7f00","#4daf4a","#f781bf","#a65628","#984ea3","#999999"]}})]}),!v&&Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:Object(f.jsx)("a",{href:"https://github.com/nicwineburger/crosswordstatswebsite/wiki/Getting-Your-NYT-Auth-Token",children:"Click here for instructions on how to get your auth-key from the NYT"})}),Object(f.jsxs)("form",{onSubmit:function(e){return function(e){return P.apply(this,arguments)}(e)},children:[Object(f.jsxs)("label",{children:["Enter your auth-key:",Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"text",value:u,onChange:function(e){return h(e.target.value)}})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("label",{children:["Enter earliest date (YYYY-MM-DD):",Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"text",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"submit"})]})]}),D&&v&&Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"Sorry, something went wrong. Please try again."})})]})})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};s.a.render(Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(c.a,{}),Object(f.jsx)(x,{})]}),document.getElementById("root")),m()}},[[43,1,2]]]);
//# sourceMappingURL=main.6b70a0a6.chunk.js.map